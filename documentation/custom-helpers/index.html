<!DOCTYPE html>
<html>
<head>
  
    <title>Custom Helpers | Acetate</title>
  

  <link rel="stylesheet" href="/assets/css/main.css">
  <link href='//fonts.googleapis.com/css?family=Unica+One|Karla:400,400italic,700' rel='stylesheet' type='text/css'>
</head>

<body>
  <nav class="navigation ">
    <div class="grid-container">
      <a href="/">Acetate</a>

      <div class="right">
        <a href="/getting-started/">Getting Started</a>
        <a href="/documentation/" class="is-active">Documentation</a>
        <a href="http://github.com/patrickarlt/acetate/">GitHub</a>
      </div>
    </div>
  </nav>

  
<div class="grid-container">
  <aside class="column-6">
    <nav class="topic-list">
      <a href="/getting-started/">Getting Started</a>
      <a href="/understanding-acetate/">Understanding Acetate</a>

      
        <section>
          <h4>Basic</h4>
          <ul>
            
            <li><a href="/documentation/config-file/">Config File</a></li>
            
            <li><a href="/documentation/loading-pages/">Loading Pages</a></li>
            
            <li><a href="/documentation/templating/">Templating</a></li>
            
            <li><a href="/documentation/layouts-and-partials/">Layouts and Partials</a></li>
            
            <li><a href="/documentation/built-in-helpers/">Built in Helpers</a></li>
            
            <li><a href="/documentation/page-metadata/">Page Metadata</a></li>
            
          </ul>
        </section>
      
        <section>
          <h4>Advanced</h4>
          <ul>
            
            <li><a href="/documentation/transforming-pages/">Transforming Pages</a></li>
            
            <li><a href="/documentation/querying-pages/">Querying Pages</a></li>
            
            <li><a href="/documentation/external-data/">External Data</a></li>
            
            <li><a href="/documentation/custom-helpers/" class="is-active">Custom Helpers</a></li>
            
            <li><a href="/documentation/multiple-config-files/">Multiple Config Files</a></li>
            
            <li><a href="/documentation/creating-plugins/">Creating Plugins</a></li>
            
            <li><a href="/documentation/generating-pages/">Generating Pages</a></li>
            
            <li><a href="/documentation/prerender-functions/">Prerender Functions</a></li>
            
            <li><a href="/documentation/configuring-nunjucks/">Configuring Nunjucks</a></li>
            
            <li><a href="/documentation/configuring-markdown-it/">Configuring Markdown It</a></li>
            
          </ul>
        </section>
      
        <section>
          <h4>Integrations</h4>
          <ul>
            
            <li><a href="/documentation/command-line/">CLI</a></li>
            
            <li><a href="/documentation/grunt-plugin/">Grunt</a></li>
            
            <li><a href="/documentation/gulp-usage/">Gulp</a></li>
            
            <li><a href="/documentation/using-with-webpack/">Webpack</a></li>
            
          </ul>
        </section>
      
        <section>
          <h4>Modes</h4>
          <ul>
            
            <li><a href="/documentation/server/">Server</a></li>
            
            <li><a href="/documentation/watcher/">Watcher</a></li>
            
            <li><a href="/documentation/builder/">Builder</a></li>
            
          </ul>
        </section>
      
    </nav>
  </aside>

  <article class="column-18">
    <h1>Custom Helpers</h1>
    <h2>Custom Filters</h2>
<p>You can configure custom filters for Nunjucks with the <code>acetate.filter</code> helper. The first parameter is the name of your filter. The second is the function that will process the variable and return it.</p>
<pre><code class="js">acetate.filter(<span class="hljs-string">'prettyJSON'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str</span>)</span>{
  <span class="hljs-keyword">return</span> <span class="hljs-string">"&lt;pre&gt;"</span> + <span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-built_in">JSON</span>.parse(str),<span class="hljs-literal">null</span>, <span class="hljs-string">'  '</span>) + <span class="hljs-string">"&lt;/pre&gt;"</span>;
});
</code></pre>
<p>Once your filters are defined you can use them in your templates.</p>
<p><code class="filename">src/json-example.html</code></p>
<pre><code class="html">---
json: "{\"foo\":\"bar\", \"baz\":\"bar\"}"
---

{{ json | prettyJSON }}
</code></pre>
<p>Refer to the <a href="https://mozilla.github.io/nunjucks/templating.html#filters">Nunjucks filter documentation</a> for more details.</p>
<h2>Helper Functions</h2>
<p>You can use the <code>helper</code> function in your config file to define custom helpers you can use in your templates. <code>helper</code> takes 3 parameters, a tag name which you will use in your templates, a handler function and a default set of options. The handler function will be passed the page context (all the variables on the page) and then any arguments you pass from the template.</p>
<p><code class="filename">acetate.conf.js</code></p>
<pre><code class="js">
acetate.helper(<span class="hljs-string">'custom_helper'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">helperHandler</span> (<span class="hljs-params">context, param</span>)</span>{
  <span class="hljs-comment">// you can access the metadata from the current page in `context.page`</span>
  <span class="hljs-comment">// you can get your options in `context.options`</span>
  <span class="hljs-keyword">return</span> arg; <span class="hljs-comment">// return the output of your helper</span>
}, {
  option: <span class="hljs-string">''</span>
});
</code></pre>
<p>You can now use your helper in your pages. You can override your default options with <code>option=&quot;value&quot;</code> all other parameters are passed to your handler function directly.</p>
<p><code class="filename">src/blog/index.html</code></p>
<pre><code class="html">{% custom_helper 'foo', option='bar' %}
</code></pre>
<h2>Block Helpers</h2>
<p>You can also create special helpers which can receive blocks of content by using the <code>acetate.block</code> function. ``block` takes 3 parameters, a tag name which you will use in your templates, a handler function and a default set of options. The handler function will be passed the page context (all the variables on the page) then the body of your block, and finally any arguments you pass from the template.</p>
<p><code class="filename">acetate.conf.js</code></p>
<pre><code class="js">acetate.block(<span class="hljs-string">'custom_block'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">context, body, param</span>)</span>{
  <span class="hljs-keyword">return</span> body;
}, {
  option: <span class="hljs-string">''</span>
});
</code></pre>
<p>Now that your helper is registered you can use it in your templates.</p>
<p><code class="filename">src/blog/index.html</code></p>
<pre><code class="html">{% custom_block 'foo' %}
I'm in a custom block!
{% endcustom_block %}
</code></pre>
    <hr>
    <p class="small">
      <a href="https://github.com/patrickarlt/acetate-site/edit/master/src/documentation/custom-helpers.md">Edit this Page on GitHub</a>
    </p>
  </article>
</div>

</body>
</html>