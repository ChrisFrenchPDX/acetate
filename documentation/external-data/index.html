<!DOCTYPE html>
<html>
<head>
  
    <title>External Data | Acetate</title>
  

  <link rel="stylesheet" href="/assets/css/main.css">
  <link href='http://fonts.googleapis.com/css?family=Unica+One|Karla:400,400italic,700' rel='stylesheet' type='text/css'>
</head>

<body>
  <nav class="navigation ">
    <div class="grid-container">
      <a href="./" class="">Acetate</a>
      <div class="right">
        <a href="/getting-started/" class="">Getting Started</a>
        <a href="/documentation/" class="is-active">Documentation</a>
        <a href="http://github.com/patrickarlt/acetate/">GitHub</a>
      </div>
    </div>
  </nav>

  
<div class="grid-container">
  <aside class="column-6">
    <nav class="topic-list">
      &lt;a href=&quot;../../getting-started/&quot; class=&quot;not-active&quot;&gt;Getting Started&lt;/a&gt;

      
        <section>
          <h4>Pages</h4>
          <ul>
            
            <li>&lt;a href=&quot;../../documentation/introduction-to-pages/&quot; class=&quot;not-active&quot;&gt;Introduction&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/templating/&quot; class=&quot;not-active&quot;&gt;Templating&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/layouts/&quot; class=&quot;not-active&quot;&gt;Layouts&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/partials/&quot; class=&quot;not-active&quot;&gt;Partials&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/page-metadata/&quot; class=&quot;not-active&quot;&gt;Page Metadata&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/built-in-helpers/&quot; class=&quot;not-active&quot;&gt;Built-in Helpers&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/custom-helpers/&quot; class=&quot;not-active&quot;&gt;Custom Helpers&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/external-data/&quot; class=&quot;is-active&quot;&gt;External Data&lt;/a&gt;</li>
            
          </ul>
        </section>
      
        <section>
          <h4>Configuration</h4>
          <ul>
            
            <li>&lt;a href=&quot;../../documentation/introduction-to-configuration/&quot; class=&quot;not-active&quot;&gt;Introduction&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/arguments/&quot; class=&quot;not-active&quot;&gt;Custom Arguments&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/altering-metadata/&quot; class=&quot;not-active&quot;&gt;Page Metadata&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/configuring-layouts/&quot; class=&quot;not-active&quot;&gt;Configuring Layouts&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/ignoring-pages/&quot; class=&quot;not-active&quot;&gt;Ignoring Pages&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/querying-pages/&quot; class=&quot;not-active&quot;&gt;Querying Pages&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/transforming-pages/&quot; class=&quot;not-active&quot;&gt;Transforming Pages&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/data-sources/&quot; class=&quot;not-active&quot;&gt;Data Sources&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/global-variables/&quot; class=&quot;not-active&quot;&gt;Global Variables&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/page-sources/&quot; class=&quot;not-active&quot;&gt;Page Sources&lt;/a&gt;</li>
            
          </ul>
        </section>
      
        <section>
          <h4>Tools &amp; Plugins</h4>
          <ul>
            
            <li>&lt;a href=&quot;../../documentation/command-line/&quot; class=&quot;not-active&quot;&gt;Command Line&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/grunt-plugin/&quot; class=&quot;not-active&quot;&gt;Grunt Plugin&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/gulp-usage/&quot; class=&quot;not-active&quot;&gt;Using with Gulp&lt;/a&gt;</li>
            
          </ul>
        </section>
      
        <section>
          <h4>Extensions</h4>
          <ul>
            
            <li>&lt;a href=&quot;../../documentation/using-extensions/&quot; class=&quot;not-active&quot;&gt;Introduction&lt;/a&gt;</li>
            
            <li>&lt;a href=&quot;../../documentation/creating-extensions/&quot; class=&quot;not-active&quot;&gt;Creation&lt;/a&gt;</li>
            
          </ul>
        </section>
      
    </nav>
  </aside>

  <article class="column-18">
    <h1>External Data</h1>
    <p>Acetate can include data from external JSON and YAML files or use load Node modules to query data dynamically at built time. To load data files place the <code>.json</code> <code>.yaml</code> <code>.yml</code> or <code>.js</code> files in your source folder. Then in your config file you can declare those files as data sources.</p>
<p><code class="filename">acetate.conf.js</code></p>
<pre><code class="js">acetate.data(<span class="hljs-string">'projects'</span>, <span class="hljs-string">'projects.json'</span>);
acetate.data(<span class="hljs-string">'people'</span>, <span class="hljs-string">'people.yaml'</span>);
acetate.data(<span class="hljs-string">'status'</span>, <span class="hljs-string">'status.js'</span>);
</code></pre>
<p>Registering data files in your configuration will make them accessible on any page. However if you only want to use a data file on one page (or a few) you can also declare the data files in your pages metadata.</p>
<pre><code class="html">---
title: Loading Data
layout: _layout:main
data:
    projects: projects.json
    people: people.yaml
    status: status.js
---

<span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>I have data now!<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
</code></pre>
<h2>Using Data in your Templates</h2>
<p>Once you have defined your data sources you can access them in your pages under the <code>data</code> key.</p>
<pre><code class="html">{{ data.projects }}
{{ data.people }}
{{ data.status }}
</code></pre>
<h2>Data Types</h2>
<p>Acetate supports JSON, YAML and JavaScript modules. The rest of these examples will use define data sources locally on the page for clarity.</p>
<h3>JSON</h3>
<p><code class="filename">src/company.json</code></p>
<pre><code class="json">{
    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"ACME Widgets"</span></span>,
    "<span class="hljs-attribute">employees</span>": <span class="hljs-value">[{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Bob"</span></span>,
        "<span class="hljs-attribute">age</span>": <span class="hljs-value"><span class="hljs-number">32</span>
    </span>},{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Alice"</span></span>,
        "<span class="hljs-attribute">age</span>": <span class="hljs-value"><span class="hljs-number">28</span>
    </span>}]
</span>}
</code></pre>
<p><code class="filename">src/company.html</code></p>
<pre><code class="html">---
title: Employee Directory
layout: _layout:main
data:
    company: company.json
---

<span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>{{data.company.name}} - {{title}}<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
{% for employee in data.company.employees %}
    <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>{{employee}} ({{age}})<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
{% endfor %}
<span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
</code></pre>
<h3>YAML</h3>
<p><code class="filename">src/company.yaml</code></p>
<pre><code><span class="hljs-attribute">name</span>: ACME Widgets
<span class="hljs-attribute">employees</span>:
    - <span class="hljs-attribute">name</span>: Bob
      <span class="hljs-attribute">age</span>: <span class="hljs-number">32</span>
    - <span class="hljs-attribute">name</span>: Alice
      <span class="hljs-attribute">age</span>: <span class="hljs-number">28</span>
</code></pre>
<p><code class="filename">src/company.html</code></p>
<pre><code class="html">---
title: Employee Directory
layout: _layout:main
data:
    company: company.yaml
---

<span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>{{data.company.name}} {{title}}<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
{% for employee in data.company.employees %}
    <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>{{employee}} ({{age}})<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
{% endfor %}
<span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
</code></pre>
<h3>Dynamic Data</h3>
<p>You can also create Node modules that can query their data dynamically at build time. This is great for things that need to come from external sources like an API or a database but don't need to be always up to date.</p>
<p>To load in dynamic data create a <code>.js</code> file in your source folder. This file should export a single function that will be passed a <code>callback</code> function and the metadata for the page that is requesting the data. When you are done retriving your data pass it to the callback like <code>callback(error, data)</code>.</p>
<p><code class="filename">src/gist.js</code></p>
<pre><code class="js"><span class="hljs-keyword">var</span> request = <span class="hljs-built_in">require</span>(<span class="hljs-string">'request'</span>);

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>)</span>{
    request({
      method: <span class="hljs-string">'GET'</span>,
      url: <span class="hljs-string">'https://api.github.com/users/patrickarlt/gists'</span>,
      json: <span class="hljs-literal">true</span>,
      headers: {
        <span class="hljs-string">'User-Agent'</span>: <span class="hljs-string">'request'</span>
      }
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, resp, body</span>)</span>{
        callback(err, body);
    });
}
</code></pre>
<p><code class="filename">src/gists.html</code></p>
<pre><code class="html">---
title: My Gists
layout: _layout:main
data:
    gists: gists.js
---

<span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
{% for gist in data.gists %}
    <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"{{gist.html_url"</span>&gt;</span>{{gist.description}}<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>)<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
{% endfor %}
<span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
</code></pre>

    <hr>
    <p class="small">
      <a href="https://github.com/patrickarlt/acetate-site/edit/master/src/documentation/external-data.md">Edit this Page on GitHub</a>
    </p>
  </article>
</div>

</body>
</html>