<!DOCTYPE html>
<html>
<head>
  
    <title>Layouts and Partials | Acetate</title>
  

  <link rel="stylesheet" href="/assets/css/main.css">
  <link href='//fonts.googleapis.com/css?family=Unica+One|Karla:400,400italic,700' rel='stylesheet' type='text/css'>
</head>

<body>
  <nav class="navigation ">
    <div class="grid-container">
      <a href="/">Acetate</a>

      <div class="right">
        <a href="/getting-started/">Getting Started</a>
        <a href="/documentation/" class="is-active">Documentation</a>
        <a href="http://github.com/patrickarlt/acetate/">GitHub</a>
      </div>
    </div>
  </nav>

  
<div class="grid-container">
  <aside class="column-6">
    <nav class="topic-list">
      <a href="/getting-started/">Getting Started</a>
      <a href="/understanding-acetate/">Understanding Acetate</a>

      
    </nav>
  </aside>

  <article class="column-18">
    <h1>Layouts and Partials</h1>
    <h2>Page Layouts</h2>
<p>Acetate wraps Nunjucks <a href="https://mozilla.github.io/nunjucks/templating.html#template-inheritance">template inheritance</a> in a simple layout system.</p>
<p>To create a layout template just make a new page with a <code>block</code>. Content will be inserted into this block. All block names in your project must be unique.</p>
<p><code class="filename">src/_layout.html</code></p>
<pre><code class="html"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>{{title}}<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  {% block page %}{% endblock %}
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>Now that you have a layout you declare it in a page's metadata with the <code>layout</code> key. Format the value like <code>path/to/layout:block_name_in_layout</code>. You can optionally omit the file extension, Acetate will search for files ending in <code>.html</code> and <code>.md</code>.</p>
<p><code class="filename">src/index.html</code></p>
<pre><code class="html">---
title: Using Layouts
layout: _layout:page
---

<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>I'm using a layout!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</code></pre>
<h2>Specifying Layout in the Config</h2>
<p>You can specify what layout a set of pages should use in the configuration file by using the <code>acetate.layout()</code> method. This method should be called with two arguments:</p>
<ol>
<li><em>pattern</em>: A string representing with pages should receive this layout. For example <code>'contact/**/*'</code> would add the layout to every page within the contact folder.</li>
<li><em>layout</em>: A string specifying the path to the layout (relative to the source folder) and which block in the layout should be used.</li>
</ol>
<p>Here is an example, which sets up a default layout, a layout for all documentation, and also specifies a particular page with should not receive a layout:</p>
<pre><code class="js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">acetate</span>) </span>{
  <span class="hljs-comment">// use the `main` block in layouts/_layout for all pages</span>
  acetate.layout(<span class="hljs-string">'**/*'</span>, <span class="hljs-string">'layouts/_layout:main'</span>);

  <span class="hljs-comment">// but use the `content` block in layouts/_documentation for all pages in the documentation folder</span>
  acetate.layout(<span class="hljs-string">'documentation/**/*'</span>, <span class="hljs-string">'layouts/_documentation:content'</span>);

  <span class="hljs-comment">// do not layout the app.html file</span>
  acetate.layout(<span class="hljs-string">'app.html'</span>, <span class="hljs-literal">false</span>);
};
</code></pre>
<h2>Nesting Layouts</h2>
<p><code class="filename">src/_nested.html</code></p>
<pre><code class="html">{% extends "_layout" %}

{% block page %}
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{title}}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This content will appear on every page using the _nested layout.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

  {% block content%}{% endblock %}
{% endblock %}
</code></pre>
<p>To nest layouts use <code>extends</code> to declare the layout you would like to extend and then declare content for one or more of its blocks. Then declare a new block (with a differnet name) that other templates can extend.</p>
<p><code class="filename">src/nested.html</code></p>
<pre><code class="html">---
title: Using Layouts
layout: _nested:content
---

<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Look I'm using a nested layout!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<h2>Using Nunjucks Template Inheritance</h2>
<p>You do not have to use Acetates layout system for all your pages. If you want to declare more then one block in a template and fill in that content from page just use <a href="https://mozilla.github.io/nunjucks/templating.html#template-inheritance">Nunjucks template inheritance</a> as normal and set the <code>layout</code> metadata key to <code>false</code>.</p>
<p>Markdown pages cannot use template inheritance. They must use the <code>layout</code> key in their metadata.</p>
<h2>Partials</h2>
<p>You can use build and include reusable templates accross multupile pages with Nunjucks <code>include</code> tag. Remember filenames that begin with <code>_</code> are not built so they are ideal for partials.</p>
<p><code class="filename">src/_partial.html</code></p>
<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>{{title}}<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"description"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"{{description}}"</span>&gt;</span>
</code></pre>
<p>Now that we have defined a tempalte file we can inclucde it accross multupile pages with <code>{% include '_partial' %}</code>. Like with layouts you dont have to include the file extension and the path is relative to your source folder.</p>
<p><code class="filename">src/contact.html</code></p>
<pre><code class="html">---
title: Contact
description: Contact us for more information.
---

<span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  {% include '_partial' %}
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Contact Us<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><code class="filename">src/about.html</code></p>
<pre><code class="html">---
title: About
description: Learn a little more about us.
---

<span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  {% include '_partial' %}
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>About Us<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2>Macros and Imports</h2>
<p>Acetate also allows you to use <a href="https://mozilla.github.io/nunjucks/templating.html#import">Nunjucks import</a> in templates. Just remember the path will be relative to your source directory.</p>
    <hr>
    <p class="small">
      <a href="https://github.com/patrickarlt/acetate-site/edit/master/src/documentation/layouts-and-partials.md">Edit this Page on GitHub</a>
    </p>
  </article>
</div>

</body>
</html>